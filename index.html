<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–∏–¥ –ø–æ –≤–∏–∑–∞–º –¥–ª—è —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –∫–æ—á–µ–≤–Ω–∏–∫–æ–≤ –≤ –ï–≤—Ä–æ–ø–µ (2025)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony (Warm neutrals like bg-amber-50, with amber-500 and teal-600 as accents) -->
    <!-- Application Structure Plan: A single-page dashboard. It starts with a hero section for context, followed by the main interactive tool: a horizontal bar chart comparing minimum income, which is the primary decision factor for users. This chart is coupled with filter buttons for direct country selection. Clicking either a chart bar or a button updates a dedicated "Detailed Information" panel below. This structure allows users to get a quick overview (comparison) and then drill down for details without leaving the context of the page. A final static section covers general requirements applicable to all. This design was chosen to facilitate a non-linear exploration, empowering users to compare and research based on their primary criteria (income) efficiently. -->
    <!-- Visualization & Content Choices: 1. Minimum Income Data -> Goal: Compare -> Viz: Horizontal Bar Chart (Chart.js) -> Interaction: Click on bar updates detail view -> Justification: Best for comparing values across categories (countries) and provides an intuitive, visual entry point for exploration. 2. All Country-Specific Data (fees, taxes, etc.) -> Goal: Inform -> Presentation: Dynamic HTML card -> Interaction: Content updates on country selection via JS -> Justification: Organizes detailed information cleanly and avoids clutter, presenting only relevant data to the user. 3. Country List -> Goal: Organize/Navigate -> Presentation: Styled HTML Buttons -> Interaction: Click updates detail view and highlights active button -> Justification: Provides a clear, alternative navigation method for users who already know which country they're interested in. All choices confirmed to use Canvas/HTML/CSS, with NO SVG/Mermaid, to create a cohesive and interactive experience. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FFFAF0; 
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 50vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 500px;
            }
        }
        .active-button {
            background-color: #14B8A6 !important;
            color: white !important;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">

        <header class="text-center mb-10 md:mb-16">
            <h1 class="text-3xl md:text-5xl font-bold text-teal-800 mb-2">–ì–∏–¥ –ø–æ –≤–∏–∑–∞–º –¥–ª—è —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –∫–æ—á–µ–≤–Ω–∏–∫–æ–≤ –≤ –ï–≤—Ä–æ–ø–µ</h1>
            <p class="text-lg md:text-xl text-gray-600 mt-2">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –≤ 2025 –≥–æ–¥—É</p>
        </header>

        <main>
            <section id="comparison-tool" class="bg-white rounded-2xl shadow-lg p-6 md:p-8 mb-10 md:mb-16">
                <div class="text-center mb-8">
                    <h2 class="text-2xl md:text-3xl font-bold text-teal-700 mb-2">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —É—Å–ª–æ–≤–∏–π</h2>
                    <p class="text-gray-600 max-w-3xl mx-auto">
                        –ù–∞—á–Ω–∏—Ç–µ –≤–∞—à–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∑–¥–µ—Å—å. –≠—Ç–∞ –¥–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –µ–∂–µ–º–µ—Å—è—á–Ω—ã–π –¥–æ—Ö–æ–¥, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –¥–ª—è –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–ª–µ–Ω–∏—è. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å—Ç–æ–ª–±–µ—Ü —Å—Ç—Ä–∞–Ω—ã –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ –∏–ª–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –≤—Å–µ –¥–µ—Ç–∞–ª–∏.
                    </p>
                </div>
                
                <div class="chart-container mb-8">
                    <canvas id="incomeChart"></canvas>
                </div>

                <div id="country-filters" class="flex flex-wrap justify-center gap-2 md:gap-3 mb-8">
                </div>
            </section>

            <section id="details-view" class="min-h-[400px] transition-opacity duration-500">
                <div id="details-content" class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
                </div>
            </section>
            
            <section id="general-info" class="mt-10 md:mt-16">
                <div class="bg-teal-50 border-l-4 border-teal-500 rounded-r-lg p-6 md:p-8">
                     <h2 class="text-2xl md:text-3xl font-bold text-teal-700 mb-4">–û–±—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</h2>
                    <p class="text-gray-700 mb-6">
                       –ü–æ–º–∏–º–æ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω—ã, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –æ–±—â–∏–π –Ω–∞–±–æ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ —É—Å–ª–æ–≤–∏–π, –∫–æ—Ç–æ—Ä—ã–π –≤–∞–º, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ—Å—å –∫ —ç—Ç–æ–º—É –∑–∞—Ä–∞–Ω–µ–µ, —á—Ç–æ–±—ã —É–ø—Ä–æ—Å—Ç–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–ª–µ–Ω–∏—è.
                    </p>
                    <ul class="space-y-4">
                        <li class="flex items-start">
                            <span class="text-teal-600 font-bold mr-3">‚úì</span>
                            <p><strong class="font-semibold">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã:</strong> –î–µ–π—Å—Ç–≤—É—é—â–∏–π —Ç—Ä—É–¥–æ–≤–æ–π –¥–æ–≥–æ–≤–æ—Ä —Å –∫–æ–º–ø–∞–Ω–∏–µ–π –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —Å—Ç—Ä–∞–Ω—ã –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è, –¥–æ–∫—É–º–µ–Ω—Ç—ã –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞ (–ò–ü/–û–û–û) –∏–ª–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ñ—Ä–∏–ª–∞–Ω—Å-–¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏.</p>
                        </li>
                        <li class="flex items-start">
                            <span class="text-teal-600 font-bold mr-3">‚úì</span>
                             <p><strong class="font-semibold">–î–µ–π—Å—Ç–≤—É—é—â–∏–π –∑–∞–≥—Ä–∞–Ω–ø–∞—Å–ø–æ—Ä—Ç:</strong> –ü–∞—Å–ø–æ—Ä—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∫–∞–∫ –º–∏–Ω–∏–º—É–º 6 –º–µ—Å—è—Ü–µ–≤ –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è –≤–∏–∑—ã.</p>
                        </li>
                        <li class="flex items-start">
                            <span class="text-teal-600 font-bold mr-3">‚úì</span>
                            <p><strong class="font-semibold">–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å—É–¥–∏–º–æ—Å—Ç–µ–π:</strong> –°–ø—Ä–∞–≤–∫–∞ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å—É–¥–∏–º–æ—Å—Ç–∏ –∏–∑ —Å—Ç—Ä–∞–Ω—ã –≤–∞—à–µ–≥–æ –≥—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–∞ –∏/–∏–ª–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–µ—Ç.</p>
                        </li>
                        <li class="flex items-start">
                           <span class="text-teal-600 font-bold mr-3">‚úì</span>
                            <p><strong class="font-semibold">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è:</strong> –î–æ–≥–æ–≤–æ—Ä –∞—Ä–µ–Ω–¥—ã –∂–∏–ª—å—è –∏–ª–∏ –±—Ä–æ–Ω—å –æ—Ç–µ–ª—è/–∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–æ–≤ –Ω–∞ –ø–µ—Ä–≤–æ–µ –≤—Ä–µ–º—è –ø—Ä–µ–±—ã–≤–∞–Ω–∏—è –≤ —Å—Ç—Ä–∞–Ω–µ.</p>
                        </li>
                    </ul>
                </div>
            </section>
        </main>

        <footer class="text-center mt-12 py-6 border-t border-gray-200">
            <p class="text-sm text-gray-500">
                –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞ –Ω–∞ –∫–æ–Ω–µ—Ü 2025 –≥–æ–¥–∞. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å—Å—è. –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∞–π—Ç—ã –∫–æ–Ω—Å—É–ª—å—Å—Ç–≤ –ø–µ—Ä–µ–¥ –ø–æ–¥–∞—á–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.
            </p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const visaData = [
                {
                    id: 'portugal',
                    name: '–ü–æ—Ä—Ç—É–≥–∞–ª–∏—è',
                    flag: 'üáµüáπ',
                    income: 3280,
                    fee: 90,
                    insurance: '–î–∞, –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ',
                    tax: '–í–æ–∑–º–æ–∂–µ–Ω –ª—å–≥–æ—Ç–Ω—ã–π –Ω–∞–ª–æ–≥–æ–≤—ã–π —Ä–µ–∂–∏–º NHR (Non-Habitual Resident)',
                    validity: '1 –≥–æ–¥, —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø—Ä–æ–¥–ª–µ–Ω–∏—è –¥–æ 5 –ª–µ—Ç',
                    details: '–û–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –≤–∏–∑ D7/D8. –¢—Ä–µ–±—É–µ—Ç –Ω–∞–ª–∏—á–∏—è –ø–æ—Ä—Ç—É–≥–∞–ª—å—Å–∫–æ–≥–æ –Ω–∞–ª–æ–≥–æ–≤–æ–≥–æ –Ω–æ–º–µ—Ä–∞ (NIF) –∏ —Å—á–µ—Ç–∞ –≤ –±–∞–Ω–∫–µ. –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ—Ü–µ—Å—Å.'
                },
                {
                    id: 'spain',
                    name: '–ò—Å–ø–∞–Ω–∏—è',
                    flag: 'üá™üá∏',
                    income: 2600,
                    fee: 80,
                    insurance: '–î–∞, —á–∞—Å—Ç–Ω–∞—è —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ –±–µ–∑ –¥–æ–ø–ª–∞—Ç',
                    tax: '–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –Ω–∞–ª–æ–≥–æ–≤—ã–π —Ä–µ–∂–∏–º —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ç–∞–≤–∫–æ–π 24% –Ω–∞ –¥–æ—Ö–æ–¥—ã –¥–æ ‚Ç¨600,000',
                    validity: '1 –≥–æ–¥, –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –¥–æ 5 –ª–µ—Ç',
                    details: '–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –Ω–µ–¥–∞–≤–Ω—è—è –≤–∏–∑–∞ —Å –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–º –Ω–∞–ª–æ–≥–æ–≤—ã–º —Ä–µ–∂–∏–º–æ–º. –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–ª–∏ –æ–ø—ã—Ç–∞ —Ä–∞–±–æ—Ç—ã –Ω–µ –º–µ–Ω–µ–µ 3 –ª–µ—Ç.'
                },
                {
                    id: 'italy',
                    name: '–ò—Ç–∞–ª–∏—è',
                    flag: 'üáÆüáπ',
                    income: 2800,
                    fee: 116,
                    insurance: '–î–∞, –Ω–∞ –≤–µ—Å—å —Å—Ä–æ–∫ –ø—Ä–µ–±—ã–≤–∞–Ω–∏—è',
                    tax: '–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏–µ, –Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ª—å–≥–æ—Ç—ã',
                    validity: '1 –≥–æ–¥, –º–æ–∂–Ω–æ –ø—Ä–æ–¥–ª–∏—Ç—å',
                    details: '–ù–æ–≤–∞—è –≤–∏–∑–∞, –∑–∞–ø—É—â–µ–Ω–∞ –≤ 2024 –≥–æ–¥—É. –¢—Ä–µ–±—É–µ—Ç—Å—è –≤—ã—Å—à–µ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏–ª–∏ 5 –ª–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –æ–ø—ã—Ç–∞. –ü—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –±—é—Ä–æ–∫—Ä–∞—Ç–∏—á–µ—Å–∫–∏–º.'
                },
                {
                    id: 'croatia',
                    name: '–•–æ—Ä–≤–∞—Ç–∏—è',
                    flag: 'üá≠üá∑',
                    income: 2540,
                    fee: 150,
                    insurance: '–î–∞, –ø–æ–∫—Ä—ã—Ç–∏–µ –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –•–æ—Ä–≤–∞—Ç–∏–∏',
                    tax: '–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –æ—Ç —É–ø–ª–∞—Ç—ã –ø–æ–¥–æ—Ö–æ–¥–Ω–æ–≥–æ –Ω–∞–ª–æ–≥–∞ –≤ –•–æ—Ä–≤–∞—Ç–∏–∏',
                    validity: '1 –≥–æ–¥, –Ω–µ –ø—Ä–æ–¥–ª–µ–≤–∞–µ—Ç—Å—è (–Ω—É–∂–Ω–æ –≤—ã–µ—Ö–∞—Ç—å –Ω–∞ 6 –º–µ—Å.)',
                    details: '–ü—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–∞ –ø–æ–ª–Ω—ã–º –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ–º –æ—Ç –Ω–∞–ª–æ–≥–æ–≤. –ó–∞—è–≤–ª–µ–Ω–∏–µ –º–æ–∂–Ω–æ –ø–æ–¥–∞—Ç—å –æ–Ω–ª–∞–π–Ω –∏–ª–∏ —É–∂–µ –Ω–∞—Ö–æ–¥—è—Å—å –≤ —Å—Ç—Ä–∞–Ω–µ. –ù–µ –≤–µ–¥–µ—Ç –∫ –ü–ú–ñ.'
                },
                {
                    id: 'hungary',
                    name: '–í–µ–Ω–≥—Ä–∏—è',
                    flag: 'üá≠üá∫',
                    income: 3000,
                    fee: 110,
                    insurance: '–î–∞, –Ω–∞ 30,000 –µ–≤—Ä–æ',
                    tax: '–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –æ—Ç —É–ø–ª–∞—Ç—ã –Ω–∞–ª–æ–≥–æ–≤ –≤ –í–µ–Ω–≥—Ä–∏–∏ –≤ –ø–µ—Ä–≤—ã–µ 6 –º–µ—Å—è—Ü–µ–≤',
                    validity: '1 –≥–æ–¥, —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø—Ä–æ–¥–ª–µ–Ω–∏—è –µ—â–µ –Ω–∞ 1 –≥–æ–¥',
                    details: '–ò–∑–≤–µ—Å—Ç–Ω–∞ –∫–∞–∫ "White Card". –ù–∏–∑–∫–∏–µ –Ω–∞–ª–æ–≥–∏ –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å –∂–∏–∑–Ω–∏. –ó–∞—è–≤–∏—Ç–µ–ª—å –Ω–µ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –¥–æ–ª—é –≤ –≤–µ–Ω–≥–µ—Ä—Å–∫–æ–π –∫–æ–º–ø–∞–Ω–∏–∏.'
                },
                {
                    id: 'greece',
                    name: '–ì—Ä–µ—Ü–∏—è',
                    flag: 'üá¨üá∑',
                    income: 3500,
                    fee: 75,
                    insurance: '–î–∞, –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ',
                    tax: '–ù–∞–ª–æ–≥–æ–≤–∞—è –ª—å–≥–æ—Ç–∞: —É–ø–ª–∞—Ç–∞ –Ω–∞–ª–æ–≥–∞ —Ç–æ–ª—å–∫–æ —Å 50% –¥–æ—Ö–æ–¥–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ 7 –ª–µ—Ç',
                    validity: '2 –≥–æ–¥–∞, –º–æ–∂–Ω–æ –ø—Ä–æ–¥–ª–∏—Ç—å',
                    details: '–ë–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π –ø–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞, –Ω–æ –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ—Ç—Å—è –¥–ª–∏—Ç–µ–ª—å–Ω—ã–º —Å—Ä–æ–∫–æ–º –¥–µ–π—Å—Ç–≤–∏—è –∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞–ª–æ–≥–æ–≤–æ–π –ª—å–≥–æ—Ç–æ–π. –ú–æ–∂–Ω–æ –ø—Ä–∏–≤–µ–∑—Ç–∏ —Å–µ–º—å—é.'
                },
                {
                    id: 'malta',
                    name: '–ú–∞–ª—å—Ç–∞',
                    flag: 'üá≤üáπ',
                    income: 2700,
                    fee: 300,
                    insurance: '–î–∞, –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ',
                    tax: '–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –æ—Ç –ø–æ–¥–æ—Ö–æ–¥–Ω–æ–≥–æ –Ω–∞–ª–æ–≥–∞, –Ω–æ –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ —Å–±–æ—Ä—ã',
                    validity: '1 –≥–æ–¥, –º–æ–∂–Ω–æ –ø—Ä–æ–¥–ª–∏—Ç—å',
                    details: 'Nomad Residence Permit. –í—ã—Å–æ–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å–±–æ—Ä–∞, –Ω–æ –∞–Ω–≥–ª–æ—è–∑—ã—á–Ω–∞—è —Å—Ä–µ–¥–∞ –∏ —Ö–æ—Ä–æ—à–µ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ. –ü—Ä–æ—Ü–µ—Å—Å –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–Ω–ª–∞–π–Ω.'
                },
                 {
                    id: 'germany',
                    name: '–ì–µ—Ä–º–∞–Ω–∏—è',
                    flag: 'üá©üá™',
                    income: null, 
                    fee: 100,
                    insurance: '–î–∞, –Ω–µ–º–µ—Ü–∫–∞—è –º–µ–¥. —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞',
                    tax: '–ü–æ–ª–Ω–æ–µ –Ω–∞–ª–æ–≥–æ–≤–æ–µ —Ä–µ–∑–∏–¥–µ–Ω—Ç—Å—Ç–≤–æ —Å –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è',
                    validity: '–î–æ 3 –ª–µ—Ç',
                    details: '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ —ç—Ç–æ –≤–∏–∑–∞ –¥–ª—è —Ñ—Ä–∏–ª–∞–Ω—Å–µ—Ä–æ–≤ (Freiberufler), –∞ –Ω–µ "nomad visa". –ù–µ—Ç —á–µ—Ç–∫–æ–≥–æ –ø–æ—Ä–æ–≥–∞ –¥–æ—Ö–æ–¥–∞, –Ω–æ –Ω—É–∂–Ω–æ –¥–æ–∫–∞–∑–∞—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é —Å–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤. –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–≤—è–∑–∏ —Å –Ω–µ–º–µ—Ü–∫–∏–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏.'
                }
            ];

            const countryFiltersContainer = document.getElementById('country-filters');
            const detailsContent = document.getElementById('details-content');
            const ctx = document.getElementById('incomeChart').getContext('2d');
            let incomeChart;

            function formatIncome(value) {
                if (value === null) return '–ù–µ—Ç —Ç–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö';
                return `‚Ç¨${value.toLocaleString('ru-RU')}`;
            }

            function updateDetails(countryId) {
                const country = visaData.find(c => c.id === countryId);
                if (!country) return;

                detailsContent.parentElement.style.opacity = 0;

                setTimeout(() => {
                    detailsContent.innerHTML = `
                        <div class="flex flex-col md:flex-row items-start md:items-center mb-6">
                            <h2 class="text-3xl md:text-4xl font-bold text-teal-700 mr-4">${country.flag} ${country.name}</h2>
                        </div>
                        <p class="text-gray-600 mb-8 max-w-3xl">${country.details}</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <div class="bg-amber-50 p-5 rounded-lg">
                                <p class="text-sm text-amber-800 font-semibold mb-1">–ú–∏–Ω. –¥–æ—Ö–æ–¥ –≤ –º–µ—Å—è—Ü</p>
                                <p class="text-2xl font-bold text-amber-900">${country.income ? formatIncome(country.income) : '–ì–∏–±–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è'}</p>
                            </div>
                            <div class="bg-teal-50 p-5 rounded-lg">
                                <p class="text-sm text-teal-800 font-semibold mb-1">–í–∏–∑–æ–≤—ã–π —Å–±–æ—Ä</p>
                                <p class="text-2xl font-bold text-teal-900">~ ‚Ç¨${country.fee}</p>
                            </div>
                            <div class="bg-rose-50 p-5 rounded-lg">
                                <p class="text-sm text-rose-800 font-semibold mb-1">–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è</p>
                                <p class="text-2xl font-bold text-rose-900">${country.validity}</p>
                            </div>
                        </div>
                        <div class="mt-8 border-t pt-6">
                             <h3 class="text-xl font-bold text-gray-700 mb-4">–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã</h3>
                             <ul class="space-y-3 text-gray-700">
                                <li class="flex"><strong class="w-32 shrink-0">–°—Ç—Ä–∞—Ö–æ–≤–∫–∞:</strong><span>${country.insurance}</span></li>
                                <li class="flex"><strong class="w-32 shrink-0">–ù–∞–ª–æ–≥–∏:</strong><span>${country.tax}</span></li>
                             </ul>
                        </div>
                    `;
                     detailsContent.parentElement.style.opacity = 1;
                }, 300);

                document.querySelectorAll('#country-filters button').forEach(btn => {
                    btn.classList.remove('active-button');
                    if (btn.dataset.country === countryId) {
                        btn.classList.add('active-button');
                    }
                });
            }

            function createChart() {
                const chartData = visaData.filter(c => c.income !== null);
                
                incomeChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: chartData.map(c => c.name),
                        datasets: [{
                            label: '–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –µ–∂–µ–º–µ—Å—è—á–Ω—ã–π –¥–æ—Ö–æ–¥ (‚Ç¨)',
                            data: chartData.map(c => c.income),
                            backgroundColor: 'rgba(20, 184, 166, 0.7)',
                            borderColor: 'rgba(15, 118, 110, 1)',
                            borderWidth: 1,
                            borderRadius: 4,
                        }]
                    },
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return ` ${context.dataset.label}: ${formatIncome(context.raw)}`;
                                    }
                                }
                            }
                        },
                        scales: {
                            x: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: '–°—É–º–º–∞ –≤ –µ–≤—Ä–æ (‚Ç¨)'
                                }
                            }
                        },
                        onClick: (event) => {
                           const points = incomeChart.getElementsAtEventForMode(event, 'nearest', { intersect: true }, true);
                            if (points.length) {
                                const firstPoint = points[0];
                                const label = incomeChart.data.labels[firstPoint.index];
                                const country = visaData.find(c => c.name === label);
                                if (country) {
                                    updateDetails(country.id);
                                     document.getElementById('details-view').scrollIntoView({ behavior: 'smooth' });
                                }
                            }
                        }
                    }
                });
            }

            visaData.forEach(country => {
                const button = document.createElement('button');
                button.className = 'px-4 py-2 text-sm md:text-base font-medium text-teal-700 bg-white border border-teal-200 rounded-full hover:bg-teal-50 transition-colors duration-200';
                button.textContent = `${country.flag} ${country.name}`;
                button.dataset.country = country.id;
                button.addEventListener('click', () => {
                    updateDetails(country.id);
                });
                countryFiltersContainer.appendChild(button);
            });

            createChart();
            updateDetails(visaData[0].id);
        });
    </script>
</body>
</html>
